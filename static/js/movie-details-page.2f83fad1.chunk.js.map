{"version":3,"file":"static/js/movie-details-page.2f83fad1.chunk.js","mappings":"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","sources":["services/moviesApi.js","webpack://goit-react-hw-05-movies/./src/components/MovieDetails/MovieDetails.module.scss?0a3a","components/MovieDetails/MovieDetails.jsx","webpack://goit-react-hw-05-movies/./src/components/ButtonBack/ButtonBack.module.scss?4356","components/ButtonBack/ButtonBack.jsx","views/MovieDetailsPage/MovieDetailsPage.jsx"],"sourcesContent":["import axios from 'axios';\nimport { toast } from 'react-toastify';\n\nconst getMovies = axios.create({\n  baseURL: 'https://api.themoviedb.org/3',\n  timeout: 1000,\n\n  params: {\n    api_key: '0c445e222255734e4e402081285b3802',\n  },\n});\n\nexport async function fetchMovies(q) {\n  try {\n    const { data } = await getMovies(q);\n    return data;\n  } catch (error) {\n    toast.error(`Нет фильмов по запросу`);\n  }\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"movie\":\"MovieDetails_movie__0bvoo\",\"imageBox\":\"MovieDetails_imageBox__MrmJc\",\"image\":\"MovieDetails_image__VKciC\",\"infoBox\":\"MovieDetails_infoBox__hR8BP\",\"title\":\"MovieDetails_title__uAZ8x\",\"year\":\"MovieDetails_year__SUitU\",\"rating\":\"MovieDetails_rating__7CXA9\",\"result\":\"MovieDetails_result__YKJ92\",\"genres\":\"MovieDetails_genres__QPoYo\",\"genre\":\"MovieDetails_genre__uTXpS\",\"about\":\"MovieDetails_about__iPk+e\",\"text\":\"MovieDetails_text__0flRr\",\"additional\":\"MovieDetails_additional__iKgZw\",\"link\":\"MovieDetails_link__SlZDX\",\"activeLink\":\"MovieDetails_activeLink__WLxCt\"};","import { NavLink, useRouteMatch } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport noPoster from '../../images/no_image_poster.png';\nimport s from './MovieDetails.module.scss';\n\nexport default function MovieDetails({ movie }) {\n  const { url } = useRouteMatch();\n  return (\n    <div className={s.movie}>\n      <div className={s.imageBox}>\n        <img\n          className={s.image}\n          src={\n            movie.poster_path\n              ? `https://image.tmdb.org/t/p/w500${movie.poster_path}`\n              : noPoster\n          }\n          alt={movie.title}\n          loading=\"lazy\"\n        />\n      </div>\n      <div className={s.infoBox}>\n        <div className={s.infoAbout}>\n          <h3 className={s.title}>\n            {movie.title ? movie.title : movie.name}\n            <span className={s.year}>({movie.release_date.slice(0, 4)})</span>\n          </h3>\n          <p className={s.rating}>\n            USER SCORE:\n            <span className={s.result}>{movie.vote_average * 10}%</span>\n          </p>\n          <ul className={s.genres}>\n            GENRES:\n            {movie.genres.map(({ id, name }) => (\n              <li key={id} className={s.genre}>\n                {name}\n              </li>\n            ))}\n          </ul>\n          <h4 className={s.about}>ABOUT:</h4>\n          <p className={s.text}>{movie.overview}</p>\n        </div>\n        <div className={s.infoMore}>\n          <ul className={s.additional}>\n            <li className={s.additionalItem}>\n              <NavLink\n                className={s.link}\n                activeClassName={s.activeLink}\n                to={`${url}/cast`}\n              >\n                Cast\n              </NavLink>\n            </li>\n            <li className={s.additionalItem}>\n              <NavLink\n                className={s.link}\n                activeClassName={s.activeLink}\n                to={`${url}/reviews`}\n              >\n                Reviews\n              </NavLink>\n            </li>\n          </ul>\n        </div>\n      </div>\n    </div>\n  );\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"buttonBox\":\"ButtonBack_buttonBox__D3CvY\",\"button\":\"ButtonBack_button__8TU1I\",\"icon\":\"ButtonBack_icon__RaKEj\"};","import s from './ButtonBack.module.scss';\nimport { IoMdArrowRoundBack } from 'react-icons/io';\n\nexport default function ButtonBack({ onBackClick }) {\n  return (\n    <div className={s.buttonBox}>\n      <button className={s.button} type=\"button\" onClick={onBackClick}>\n        <IoMdArrowRoundBack className={s.icon} />\n        BACK\n      </button>\n    </div>\n  );\n}\n","import { useState, useEffect, lazy, Suspense } from 'react';\nimport {\n  useParams,\n  Route,\n  useRouteMatch,\n  useLocation,\n  useHistory,\n} from 'react-router-dom';\nimport { fetchMovies } from '../../services/moviesApi';\nimport MovieDetails from '../../components/MovieDetails';\nimport ButtonBack from '../../components/ButtonBack';\n\nconst CastPage = lazy(() =>\n  import('../CastPage' /* webpackChunkName: \"cast\"*/),\n);\nconst ReviewsPage = lazy(() =>\n  import('../ReviewsPage' /* webpackChunkName: \"reviews\"*/),\n);\n\nexport default function MovieDetailsPage() {\n  const location = useLocation();\n  const history = useHistory();\n  const { path } = useRouteMatch();\n  const { movieId } = useParams();\n  const [movie, setMovie] = useState(null);\n\n  useEffect(() => {\n    const asyncFetch = async () => {\n      const movie = await fetchMovies(`movie/${movieId}`);\n      setMovie(movie);\n    };\n    asyncFetch();\n  }, [movieId]);\n\n  const onBackClick = () => {\n    if (location && location.state && location.state.from) {\n      const { pathname, search } = location.state.from;\n      history.push(`${pathname}${search}`);\n\n      return;\n    }\n    history.push('/');\n  };\n\n  return (\n    <>\n      <ButtonBack onBackClick={onBackClick} />\n\n      {movie && <MovieDetails movie={movie} />}\n\n      <Suspense fallback={<h2>ЗАГРУЖАЕМ...</h2>}>\n        <Route path={`${path}/cast`}>\n          <CastPage />\n        </Route>\n        <Route path={`${path}/reviews`}>\n          <ReviewsPage />\n        </Route>\n      </Suspense>\n    </>\n  );\n}\n"],"names":["getMovies","axios","baseURL","timeout","params","api_key","fetchMovies","q","data","toast","MovieDetails","movie","url","useRouteMatch","className","s","src","poster_path","noPoster","alt","title","loading","name","release_date","slice","vote_average","genres","map","id","overview","activeClassName","to","ButtonBack","onBackClick","type","onClick","CastPage","lazy","ReviewsPage","MovieDetailsPage","location","useLocation","history","useHistory","path","movieId","useParams","useState","setMovie","useEffect","asyncFetch","state","from","pathname","search","push","Suspense","fallback","Route"],"sourceRoot":""}