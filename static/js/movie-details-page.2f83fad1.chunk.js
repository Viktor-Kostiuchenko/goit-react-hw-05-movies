"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[347],{8565:function(e,t,a){a.d(t,{v:function(){return u}});var s=a(5861),i=a(7757),n=a.n(i),r=a(4569),c=a.n(r),o=a(577),l=c().create({baseURL:"https://api.themoviedb.org/3",timeout:1e3,params:{api_key:"0c445e222255734e4e402081285b3802"}});function u(e){return _.apply(this,arguments)}function _(){return(_=(0,s.Z)(n().mark((function e(t){var a,s;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l(t);case 3:return a=e.sent,s=a.data,e.abrupt("return",s);case 8:e.prev=8,e.t0=e.catch(0),o.Am.error("\u041d\u0435\u0442 \u0444\u0438\u043b\u044c\u043c\u043e\u0432 \u043f\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0443");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}},2763:function(e,t,a){a.r(t),a.d(t,{default:function(){return N}});var s=a(5861),i=a(8152),n=a(7757),r=a.n(n),c=a(2791),o=a(9271),l=a(8565),u=a(1523),_=a(8429),v={movie:"MovieDetails_movie__0bvoo",imageBox:"MovieDetails_imageBox__MrmJc",image:"MovieDetails_image__VKciC",infoBox:"MovieDetails_infoBox__hR8BP",title:"MovieDetails_title__uAZ8x",year:"MovieDetails_year__SUitU",rating:"MovieDetails_rating__7CXA9",result:"MovieDetails_result__YKJ92",genres:"MovieDetails_genres__QPoYo",genre:"MovieDetails_genre__uTXpS",about:"MovieDetails_about__iPk+e",text:"MovieDetails_text__0flRr",additional:"MovieDetails_additional__iKgZw",link:"MovieDetails_link__SlZDX",activeLink:"MovieDetails_activeLink__WLxCt"},m=a(184);function d(e){var t=e.movie,a=(0,o.useRouteMatch)().url;return(0,m.jsxs)("div",{className:v.movie,children:[(0,m.jsx)("div",{className:v.imageBox,children:(0,m.jsx)("img",{className:v.image,src:t.poster_path?"https://image.tmdb.org/t/p/w500".concat(t.poster_path):_,alt:t.title,loading:"lazy"})}),(0,m.jsxs)("div",{className:v.infoBox,children:[(0,m.jsxs)("div",{className:v.infoAbout,children:[(0,m.jsxs)("h3",{className:v.title,children:[t.title?t.title:t.name,(0,m.jsxs)("span",{className:v.year,children:["(",t.release_date.slice(0,4),")"]})]}),(0,m.jsxs)("p",{className:v.rating,children:["USER SCORE:",(0,m.jsxs)("span",{className:v.result,children:[10*t.vote_average,"%"]})]}),(0,m.jsxs)("ul",{className:v.genres,children:["GENRES:",t.genres.map((function(e){var t=e.id,a=e.name;return(0,m.jsx)("li",{className:v.genre,children:a},t)}))]}),(0,m.jsx)("h4",{className:v.about,children:"ABOUT:"}),(0,m.jsx)("p",{className:v.text,children:t.overview})]}),(0,m.jsx)("div",{className:v.infoMore,children:(0,m.jsxs)("ul",{className:v.additional,children:[(0,m.jsx)("li",{className:v.additionalItem,children:(0,m.jsx)(u.OL,{className:v.link,activeClassName:v.activeLink,to:"".concat(a,"/cast"),children:"Cast"})}),(0,m.jsx)("li",{className:v.additionalItem,children:(0,m.jsx)(u.OL,{className:v.link,activeClassName:v.activeLink,to:"".concat(a,"/reviews"),children:"Reviews"})})]})})]})]})}var h="ButtonBack_buttonBox__D3CvY",x="ButtonBack_button__8TU1I",p="ButtonBack_icon__RaKEj",f=a(3061);function j(e){var t=e.onBackClick;return(0,m.jsx)("div",{className:h,children:(0,m.jsxs)("button",{className:x,type:"button",onClick:t,children:[(0,m.jsx)(f.D_,{className:p}),"BACK"]})})}var g=(0,c.lazy)((function(){return a.e(277).then(a.bind(a,6975))})),k=(0,c.lazy)((function(){return a.e(912).then(a.bind(a,614))}));function N(){var e=(0,o.useLocation)(),t=(0,o.useHistory)(),a=(0,o.useRouteMatch)().path,n=(0,o.useParams)().movieId,u=(0,c.useState)(null),_=(0,i.Z)(u,2),v=_[0],h=_[1];(0,c.useEffect)((function(){var e=function(){var e=(0,s.Z)(r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.v)("movie/".concat(n));case 2:t=e.sent,h(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[n]);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(j,{onBackClick:function(){if(e&&e.state&&e.state.from){var a=e.state.from,s=a.pathname,i=a.search;t.push("".concat(s).concat(i))}else t.push("/")}}),v&&(0,m.jsx)(d,{movie:v}),(0,m.jsxs)(c.Suspense,{fallback:(0,m.jsx)("h2",{children:"\u0417\u0410\u0413\u0420\u0423\u0416\u0410\u0415\u041c..."}),children:[(0,m.jsx)(o.Route,{path:"".concat(a,"/cast"),children:(0,m.jsx)(g,{})}),(0,m.jsx)(o.Route,{path:"".concat(a,"/reviews"),children:(0,m.jsx)(k,{})})]})]})}},8429:function(e,t,a){e.exports=a.p+"static/media/no_image_poster.68ae350692995e841a18.png"}}]);
//# sourceMappingURL=movie-details-page.2f83fad1.chunk.js.map