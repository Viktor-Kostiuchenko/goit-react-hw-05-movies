"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[493],{7415:function(e,t,n){n.d(t,{Z:function(){return f}});var r=n(1523),o=n(9271),a=n(8429),i={image:"MoviesItem_image__KoNtk",title:"MoviesItem_title__Rrsmm"},c=n(184);function u(e){var t=e.src,n=e.title,r=e.name;return(0,c.jsxs)("div",{className:i.card,children:[(0,c.jsx)("img",{className:i.image,src:t?"https://image.tmdb.org/t/p/w500".concat(t):a,alt:n,loading:"lazy"}),(0,c.jsx)("h2",{className:i.title,children:n||r})]})}var s="Movies_moviesList__ueqwJ",l="Movies_moviesitem__5C20G";function f(e){var t=e.movies,n=(0,o.useLocation)();return(0,c.jsx)("ul",{className:s,children:t&&t.map((function(e){var t=e.id,o=e.poster_path,a=e.title,i=e.name;return(0,c.jsx)("li",{className:l,children:(0,c.jsx)(r.rU,{to:{pathname:"/movies/".concat(t),state:{from:n}},children:(0,c.jsx)(u,{src:o,title:a,name:i})})},t)}))})}},7688:function(e,t,n){n.d(t,{Z:function(){return i}});var r="Pagination_buttonBox__+w59T",o="Pagination_button__-Sbbg",a=n(184);function i(e){var t=e.next,n=e.prev,i=e.page,c=e.totalPages;return(0,a.jsxs)("div",{className:r,children:[(0,a.jsx)("button",{className:o,type:"button",onClick:n,disabled:!(i>1),children:"PREV"}),(0,a.jsx)("button",{className:o,type:"button",onClick:t,disabled:!(i<c),children:"NEXT"})]})}},8565:function(e,t,n){n.d(t,{v:function(){return l}});var r=n(5861),o=n(7757),a=n.n(o),i=n(4569),c=n.n(i),u=n(577),s=c().create({baseURL:"https://api.themoviedb.org/3",timeout:1e3,params:{api_key:"0c445e222255734e4e402081285b3802"}});function l(e){return f.apply(this,arguments)}function f(){return(f=(0,r.Z)(a().mark((function e(t){var n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s(t);case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 8:e.prev=8,e.t0=e.catch(0),u.Am.error("\u041d\u0435\u0442 \u0444\u0438\u043b\u044c\u043c\u043e\u0432 \u043f\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0443");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}},1948:function(e,t,n){function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n.r(t),n.d(t,{default:function(){return j}});var i=n(5861),c=n(8152),u=n(7757),s=n.n(u),l=n(2791),f=n(542),p=n(577),m="SearchForm_searchForm__TTC8q",v="SearchForm_input__9cxSu",h="SearchForm_button__mJj5Z",y=n(184);function d(e){var t=e.onSubmit,n=(0,l.useState)(""),r=(0,c.Z)(n,2),o=r[0],a=r[1];return(0,y.jsx)(y.Fragment,{children:(0,y.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""!==o.trim()?(t(o),a("")):p.Am.warning("Enter sth")},className:m,autoComplete:"off",children:[(0,y.jsx)("input",{className:v,type:"text",autoFocus:!0,placeholder:"Search movies",value:o,onChange:function(e){a(e.currentTarget.value.toLowerCase())}}),(0,y.jsx)("button",{type:"submit",className:h,children:"go"})]})})}var b=n(7415),g=n(7688),_=n(8565);function j(){var e=(0,f.TH)(),t=(0,f.k6)(),n=(0,l.useState)(null),r=(0,c.Z)(n,2),o=r[0],u=r[1],p=(0,l.useState)(1),m=(0,c.Z)(p,2),v=m[0],h=m[1],j=(0,l.useState)(null),x=(0,c.Z)(j,2),w=x[0],O=x[1];(0,l.useEffect)((function(){if(o){var e=function(){var e=(0,i.Z)(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_.v)("search/movie?query=".concat(o,"&page=").concat(v));case 2:t=e.sent,O(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}}),[v,o]);return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(d,{onSubmit:function(n){u(n),h(1),t.push(a(a({},e),{},{search:"query=".concat(n)}))}}),w&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(b.Z,{movies:w.results}),(0,y.jsx)(g.Z,{next:function(){h((function(e){return e+1})),window.scrollTo({behavior:"smooth",top:0})},prev:function(){h((function(e){return e-1})),window.scrollTo({behavior:"smooth",top:0})},page:v,totalPages:w.total_pages})]})]})}},542:function(e,t,n){function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var o=n(9271),a=r(n(2791)),i=n(2610);n(2007),n(5501);var c=r(n(6111));function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function s(e,t){e.prototype=Object.create(t.prototype),l(e.prototype.constructor=e,t)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}var p=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).history=i.createBrowserHistory(t.props),t}return s(t,e),t.prototype.render=function(){return a.createElement(o.Router,{history:this.history,children:this.props.children})},t}(a.Component),m=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).history=i.createHashHistory(t.props),t}return s(t,e),t.prototype.render=function(){return a.createElement(o.Router,{history:this.history,children:this.props.children})},t}(a.Component),v=function(e,t){return"function"==typeof e?e(t):e},h=function(e,t){return"string"==typeof e?i.createLocation(e,null,null,t):e},y=function(e){return e},d=a.forwardRef;void 0===d&&(d=y);var b=d((function(e,t){var n=e.innerRef,r=e.navigate,o=e.onClick,i=f(e,["innerRef","navigate","onClick"]),c=i.target,s=u({},i,{onClick:function(t){try{o&&o(t)}catch(e){throw t.preventDefault(),e}t.defaultPrevented||0!==t.button||c&&"_self"!==c||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t)||(t.preventDefault(),r())}});return s.ref=y!==d&&t||n,a.createElement("a",s)})),g=d((function(e,t){var n=e.component,r=void 0===n?b:n,s=e.replace,l=e.to,p=e.innerRef,m=f(e,["component","replace","to","innerRef"]);return a.createElement(o.__RouterContext.Consumer,null,(function(e){e||c(!1);var n=e.history,o=h(v(l,e.location),e.location),f=o?n.createHref(o):"",b=u({},m,{href:f,navigate:function(){var t=v(l,e.location),r=i.createPath(e.location)===i.createPath(h(t));(s||r?n.replace:n.push)(t)}});return y!==d?b.ref=t||p:b.innerRef=p,a.createElement(r,b)}))})),_=function(e){return e},j=a.forwardRef;void 0===j&&(j=_);var x=j((function(e,t){var n=e["aria-current"],r=void 0===n?"page":n,i=e.activeClassName,s=void 0===i?"active":i,l=e.activeStyle,p=e.className,m=e.exact,y=e.isActive,d=e.location,b=e.sensitive,x=e.strict,w=e.style,O=e.to,P=e.innerRef,C=f(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return a.createElement(o.__RouterContext.Consumer,null,(function(e){e||c(!1);var n=d||e.location,i=h(v(O,n),n),f=i.pathname,N=f&&f.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),k=N?o.matchPath(n.pathname,{path:N,exact:m,sensitive:b,strict:x}):null,R=!!(y?y(k,n):k),S="function"==typeof p?p(R):p,E="function"==typeof w?w(R):w;R&&(S=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(S,s),E=u({},E,l));var Z=u({"aria-current":R&&r||null,className:S,style:E,to:i},C);return _!==j?Z.ref=t||P:Z.innerRef=P,a.createElement(g,Z)}))}));Object.defineProperty(t,"k6",{enumerable:!0,get:function(){return o.useHistory}}),Object.defineProperty(t,"TH",{enumerable:!0,get:function(){return o.useLocation}})},5501:function(e,t,n){n.r(t);t.default=function(e,t){}},8429:function(e,t,n){e.exports=n.p+"static/media/no_image_poster.68ae350692995e841a18.png"}}]);
//# sourceMappingURL=movies-page.391f7d05.chunk.js.map